{"version":3,"sources":["old.js"],"names":["User","_password","prototype","checkGoogleLogin","token","_googleToken","setGoogleToken","getFacebookLogin","_facebookToken","setFacebookToken","checkPassword","password","resetPassword","prompt","Admin","Error","passwordElement","document","querySelector","typePasswordElement","typeGoogleElement","typeFacebookElement","loginAsAdminElement","resetPasswordElement","guest","admin","addEventListener","event","preventDefault","user","checked","auth","value","alert"],"mappings":"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","file":"old.959634d2.js","sourceRoot":"..","sourcesContent":["\"use strict\";\nvar User = /** @class */ (function () {\n    function User() {\n        this._password = 'user';\n    }\n    //Interesting detail here: while I did not define a return type or param type, any deviation from the interface will give you an error.\n    // Test it out by uncommenting the code below.\n    User.prototype.checkGoogleLogin = function (token) {\n        // return \"this will not work\";\n        return (token === this._googleToken);\n    };\n    User.prototype.setGoogleToken = function (token) {\n        this._googleToken = token;\n    };\n    User.prototype.getFacebookLogin = function (token) {\n        return (token === this._facebookToken);\n    };\n    User.prototype.setFacebookToken = function (token) {\n        this._facebookToken = token;\n    };\n    User.prototype.checkPassword = function (password) {\n        return (password === this._password);\n    };\n    User.prototype.resetPassword = function () {\n        this._password = prompt('What is your new password?');\n    };\n    return User;\n}());\n//admin cannot use google or facebook token\nvar Admin = /** @class */ (function () {\n    function Admin() {\n        this._password = 'admin';\n    }\n    Admin.prototype.checkGoogleLogin = function (token) {\n        return false;\n    };\n    Admin.prototype.checkPassword = function (password) {\n        return (password === this._password);\n    };\n    Admin.prototype.getFacebookLogin = function (token) {\n        return false;\n    };\n    Admin.prototype.setFacebookToken = function () {\n        throw new Error('Function not supported for admins');\n    };\n    Admin.prototype.setGoogleToken = function () {\n        throw new Error('Function not supported for admins');\n    };\n    Admin.prototype.resetPassword = function () {\n        this._password = prompt('What is your new password?');\n    };\n    return Admin;\n}());\n// class GoogleBot implements UserAuth {}\nvar passwordElement = document.querySelector('#password');\nvar typePasswordElement = document.querySelector('#typePassword');\nvar typeGoogleElement = document.querySelector('#typeGoogle');\nvar typeFacebookElement = document.querySelector('#typeFacebook');\nvar loginAsAdminElement = document.querySelector('#loginAsAdmin');\nvar resetPasswordElement = document.querySelector('#resetPassword');\nvar guest = new User;\nvar admin = new Admin;\ndocument.querySelector('#login-form').addEventListener('submit', function (event) {\n    event.preventDefault();\n    var user = loginAsAdminElement.checked ? admin : guest;\n    if (!loginAsAdminElement.checked) {\n        user.setGoogleToken('secret_token_google');\n        user.setFacebookToken('secret_token_fb');\n    }\n    debugger;\n    var auth = false;\n    switch (true) {\n        case typePasswordElement.checked:\n            auth = user.checkPassword(passwordElement.value);\n            break;\n        case typeGoogleElement.checked:\n            auth = user.checkGoogleLogin('secret_token_google');\n            break;\n        case typeFacebookElement.checked:\n            debugger;\n            auth = user.getFacebookLogin('secret_token_fb');\n            break;\n    }\n    if (auth) {\n        alert('login success');\n    }\n    else {\n        alert('login failed');\n    }\n});\nresetPasswordElement.addEventListener('click', function (event) {\n    event.preventDefault();\n    var user = loginAsAdminElement.checked ? admin : guest;\n    user.resetPassword();\n});\n"]}